function $(e){return document.querySelector(e)}function $$(e){return document.querySelectorAll(e)}function checkCookieConsent(){("true"===localStorage.getItem("cookiesAccepted")?initializeCookies:showCookieBanner)()}function initEventListeners(){[{selector:"#acceptCookies",event:"click",handler:acceptCookies},{selector:"#settingsCookies",event:"click",handler:openCookieSettings},{selector:"#saveCookieSettings",event:"click",handler:saveCookieSettings}].forEach(({selector:e,event:t,handler:a})=>{e=$(e);e&&e.addEventListener(t,a)})}function initLazyLoading(){$$("img").forEach(e=>e.setAttribute("loading","lazy"))}function updateOpeningHours(){var e=new Date,e=1<=e.getDay()&&e.getDay()<=5&&9<=e.getHours()&&e.getHours()<18,t=$("#opening-hours");t&&(t.textContent=e?"Open":"Closed",t.classList.toggle("bg-success",e),t.classList.toggle("bg-danger",!e))}async function fetchReviews(){try{displayReviews(await(await fetch("assets/json/filtered_reviews.json")).json())}catch(e){console.error("Error loading reviews:",e)}}function displayReviews(o){var e=$(".review-customers");let n=$(".review-customers-content");var s=$("#average-score"),r=$("#average-stars");if(e&&n&&s&&r){let a=document.createDocumentFragment(),i=0;o.forEach((e,t)=>{t=createReviewImage(e,t);a.appendChild(t),i+=e.rating}),e.appendChild(a);var c=(i/o.length).toFixed(1);s.textContent=c,r.innerHTML=getStars(c);let t=0;showReview(o,t,n),setInterval(()=>{t=(t+1)%o.length,showReview(o,t,n)},5e3),e.addEventListener("click",e=>{e.target.classList.contains("review-img")&&(t=parseInt(e.target.dataset.index),showReview(o,t,n))})}}function createReviewImage(e,t){var a=document.createElement("img");return a.src=e.image,a.alt=e.name,a.classList.add("review-img","rounded-circle"),a.dataset.index=t,a}function showReview(e,t,a){e=e[t];a&&(a.innerHTML=`
      <div class="review-item review-active">
        <h5 class="review-name">${e.name}</h5>
        <div class="review-rating text-warning mb-2">${getStars(e.rating)}</div>
        <p class="review-content">${e.content}</p>
      </div>`);let i=$(".review-item");i&&(i.style.opacity="0",i.style.transform="translateX(-50px)",requestAnimationFrame(()=>{i.style.transition="opacity 1s, transform 1s",i.style.opacity="1",i.style.transform="translateX(0)"})),$$(".review-img").forEach(e=>e.classList.remove("active"));a=$(`.review-img[data-index="${t}"]`);a&&a.classList.add("active")}function getStars(e){var t=Math.floor(e),e=.5<=e-t?1:0,a=5-t-e;return'<i class="bi bi-star-fill"></i>'.repeat(t)+'<i class="bi bi-star-half"></i>'.repeat(e)+'<i class="bi bi-star"></i>'.repeat(a)}function updateYear(){var e=$("#currentYear");e&&(e.textContent=(new Date).getFullYear())}function animateCard(e,t){var a=e.querySelector(".card-custom"),i=e.querySelector("h2"),e=e.querySelector("p");a.style.transition="transform 0.3s",a.style.transform=t?"scale(1.1)":"scale(1)",i.style.transition="color 0.3s",i.style.color=t?"var(--accent)":"var(--black)",e.style.transition="color 0.3s",e.style.color=t?"var(--black)":"var(--dark)"}function initializeMarquee(){var i=$(".marquee-container");let o=$(".marquee-content");if(i&&o){for(let e=0;e<2;e++)i.appendChild(o.cloneNode(!0));let e=$$(".marquee-content"),t=0,a=()=>{--t<=-o.offsetWidth&&(t=0),e.forEach(e=>{e.style.transform=`translateX(${t}px)`}),requestAnimationFrame(a)};a()}}function initFeatureHeaders(){$$(".feature-header").forEach(a=>{a.addEventListener("click",()=>{var e=$(a.getAttribute("data-target")),t=e.classList.contains("show");$$(".feature-content.show").forEach(e=>e.classList.remove("show")),t||e.classList.add("show")})})}function initFAQ(){let a=$$(".faq-categories li"),i=$$(".faq-category");a.forEach(e=>{e.addEventListener("click",()=>{a.forEach(e=>e.classList.remove("active")),e.classList.add("active");let t=e.getAttribute("data-category");i.forEach(e=>{e.style.display=e.getAttribute("data-category")===t?"block":"none"})})}),$$(".faq").forEach(a=>{a.addEventListener("click",()=>{a.classList.toggle("active");var e=a.querySelector(".faq-content"),t=a.querySelector(".icon");a.classList.contains("active")?(e.style.maxHeight=e.scrollHeight+"px",t.innerHTML="&#9650;"):(e.style.maxHeight="0",t.innerHTML="&#9660;")})})}function manageCacheForNewVisit(){sessionStorage.getItem("visited")||("caches"in window?caches.keys().then(e=>{Promise.all(e.map(e=>caches.delete(e))).then(()=>{sessionStorage.setItem("visited","true"),window.location.reload(!0)})}):(sessionStorage.setItem("visited","true"),window.location.reload(!0)))}function showCookieBanner(){var e=$("#cookieBanner");e&&(e.classList.remove("d-none"),e.style.display="block")}function hideCookieBanner(){var e=$("#cookieBanner");e&&(e.classList.add("d-none"),e.style.display="none")}function acceptCookies(){localStorage.setItem("cookiesAccepted","true"),localStorage.setItem("analyticsCookies","true"),localStorage.setItem("marketingCookies","true"),hideCookieBanner(),initializeCookies()}function openCookieSettings(){new bootstrap.Modal($("#cookieSettingsModal")).show()}function saveCookieSettings(){var e=$("#analyticsCookies").checked,t=$("#marketingCookies").checked;localStorage.setItem("analyticsCookies",e.toString()),localStorage.setItem("marketingCookies",t.toString()),localStorage.setItem("cookiesAccepted","true"),hideCookieBanner(),initializeCookies()}function initializeCookies(){var e="true"===localStorage.getItem("analyticsCookies"),t="true"===localStorage.getItem("marketingCookies");e?(console.log("Analytics cookies accepted, initializing Google Analytics..."),(e=document.createElement("script")).src="https://www.googletagmanager.com/gtag/js?id=G-JHZX0FXSC0",e.async=!0,document.head.appendChild(e),e.onload=function(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-JHZX0FXSC0",{anonymize_ip:!0,cookie_flags:"SameSite=None;Secure"}),console.log("Google Analytics initialized.")},e.onerror=function(){console.error("Failed to load Google Analytics script.")}):console.log("No consent given for analytics cookies."),t&&console.log("Marketing cookies accepted.")}document.addEventListener("DOMContentLoaded",function(){checkCookieConsent(),initEventListeners(),initLazyLoading(),updateOpeningHours(),fetchReviews(),updateYear(),initializeMarquee(),manageCacheForNewVisit(),initFAQ(),initFeatureHeaders()});